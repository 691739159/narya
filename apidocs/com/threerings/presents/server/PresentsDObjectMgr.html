<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Fri Feb 03 13:31:55 PST 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
PresentsDObjectMgr (Narya Core 1.11 API)
</TITLE>

<META NAME="date" CONTENT="2012-02-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PresentsDObjectMgr (Narya Core 1.11 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PresentsDObjectMgr.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/threerings/presents/server/PresentsAuthInvoker.html" title="class in com.threerings.presents.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.LongRunnable.html" title="interface in com.threerings.presents.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/threerings/presents/server/PresentsDObjectMgr.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PresentsDObjectMgr.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.threerings.presents.server</FONT>
<BR>
Class PresentsDObjectMgr</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.threerings.presents.server.PresentsDObjectMgr</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.Factory.html?is-external=true" title="class or interface in com.samskivert.util">Interval.Factory</A>, <A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</A>, <A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A>, <A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html" title="interface in com.threerings.presents.dobj">RootDObjectManager</A>, java.util.concurrent.Executor</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/threerings/presents/server/LocalDObjectMgr.html" title="class in com.threerings.presents.server">LocalDObjectMgr</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>PresentsDObjectMgr</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html" title="interface in com.threerings.presents.dobj">RootDObjectManager</A></DL>
</PRE>

<P>
The presents distributed object manager implements the <A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj"><CODE>DObjectManager</CODE></A> interface,
 providing an object manager that runs on the server. By virtue of running on the server, it
 manages its objects directly rather than managing proxies of objects which is what is done on
 the client. Thus it simply queues up events and dispatches them to listeners.

 <p> The server object manager is meant to run on the main thread of the server application and
 thus provides a method to be invoked by the application main thread which won't return until the
 manager has been requested to shut down.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.LongRunnable.html" title="interface in com.threerings.presents.server">PresentsDObjectMgr.LongRunnable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Post instances of these if you know you're going to tie up the distributed object thread
 for a long time and don't want a spurious warning.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.Stats.html" title="class in com.threerings.presents.server">PresentsDObjectMgr.Stats</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returned by <A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#getStats(boolean)"><CODE>getStats(boolean)</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_com.samskivert.util.RunQueue"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface com.samskivert.util.<A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.AsExecutor.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue.AsExecutor</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.samskivert.util.RunQueue"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.samskivert.util.<A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true#AWT" title="class or interface in com.samskivert.util">AWT</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#PresentsDObjectMgr(com.threerings.presents.server.ReportManager)">PresentsDObjectMgr</A></B>(<A HREF="../../../../com/threerings/presents/server/ReportManager.html" title="class in com.threerings.presents.server">ReportManager</A>&nbsp;repmgr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the dobjmgr and prepares it for operation.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#clearProxyObject(int, com.threerings.presents.dobj.DObject)">clearProxyObject</A></B>(int&nbsp;origObjectId,
                 <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears a proxy object reference from our local distributed object space.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#clearUnitProfiles()">clearUnitProfiles</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the current set of unit profiles.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#destroyObject(int)">destroyObject</A></B>(int&nbsp;oid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests that the specified object be destroyed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#dumpUnitProfiles()">dumpUnitProfiles</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dumps collected profiling information to the system log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#execute(java.lang.Runnable)">execute</A></B>(java.lang.Runnable&nbsp;command)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#getNextEventId(boolean)">getNextEventId</A></B>(boolean&nbsp;increment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the id to be assigned to the next event posted to the event queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#getObject(int)">getObject</A></B>(int&nbsp;oid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the object in the object table with the specified oid or null if no object has that
 oid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.Stats.html" title="class in com.threerings.presents.server">PresentsDObjectMgr.Stats</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#getStats(boolean)">getStats</A></B>(boolean&nbsp;snapshot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a recent snapshot of runtime statistics tracked by the distributed object manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#getUnitProfInterval()">getUnitProfInterval</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the profiling sample frequency.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#harshShutdown()">harshShutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests that the dobjmgr shut itself down directly.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#isDispatchThread()">isDispatchThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the thread invoking this method is the same thread that is doing distributed
 object event dispatch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#isManager(com.threerings.presents.dobj.DObject)">isManager</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this distributed object manager is the authoritative manager for the
 specified distributed object, or false if we are only providing a proxy to the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#isRunning()">isRunning</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tests if the event processing thread is still running.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.html?is-external=true" title="class or interface in com.samskivert.util">Interval</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#newInterval(java.lang.Runnable)">newInterval</A></B>(java.lang.Runnable&nbsp;action)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an <A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.html?is-external=true" title="class or interface in com.samskivert.util"><CODE>Interval</CODE></A> that runs the supplied runnable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#objectAdded(com.threerings.presents.dobj.DEvent, com.threerings.presents.dobj.DObject)">objectAdded</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event,
            <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;target)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called as a helper for <code>ObjectAddedEvent</code> events.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#objectDestroyed(com.threerings.presents.dobj.DEvent, com.threerings.presents.dobj.DObject)">objectDestroyed</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event,
                <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;target)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called as a helper for <code>ObjectDestroyedEvent</code> events.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#objectRemoved(com.threerings.presents.dobj.DEvent, com.threerings.presents.dobj.DObject)">objectRemoved</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event,
              <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;target)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called as a helper for <code>ObjectRemovedEvent</code> events.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#postEvent(com.threerings.presents.dobj.DEvent)">postEvent</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Posts a distributed object event into the system.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#postRunnable(java.lang.Runnable)">postRunnable</A></B>(java.lang.Runnable&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Posts a self-contained unit of code that should be run on the distributed object manager
 thread at the next available opportunity.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#queueIsEmpty()">queueIsEmpty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should not need to be called except by the invoker during shutdown to ensure that things are
 proceeding smoothly.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#refuseEventThread()">refuseEventThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures that the calling thread <em>is not</em> the distributed object event dispatch
 thread, throwing an <CODE>IllegalStateException</CODE> if it is.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&gt; 
<BR>
T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#registerObject(T)">registerObject</A></B>(T&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a distributed object instance of the supplied class with the system and assigns it
 an oid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#registerProxyObject(com.threerings.presents.dobj.DObject, com.threerings.presents.dobj.DObjectManager)">registerProxyObject</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;object,
                    <A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A>&nbsp;omgr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers an object managed by another distributed object manager (probably on another
 server).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#removedLastSubscriber(com.threerings.presents.dobj.DObject, boolean)">removedLastSubscriber</A></B>(<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;obj,
                      boolean&nbsp;deathWish)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When a distributed object removes its last subscriber, it will call this function to let the
 object manager know.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#requireEventThread()">requireEventThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures that the calling thread is the distributed object event dispatch thread, throwing an
 <CODE>IllegalStateException</CODE> if it is not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs the dobjmgr event loop until it is requested to exit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#setDefaultAccessController(com.threerings.presents.dobj.AccessController)">setDefaultAccessController</A></B>(<A HREF="../../../../com/threerings/presents/dobj/AccessController.html" title="interface in com.threerings.presents.dobj">AccessController</A>&nbsp;controller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets up an access controller that will be provided to any distributed objects created on the
 server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#setUnitProfInterval(int)">setUnitProfInterval</A></B>(int&nbsp;interval)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the frequency at which we take profiling samples.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&gt; 
<BR>
void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#subscribeToObject(int, com.threerings.presents.dobj.Subscriber)">subscribeToObject</A></B>(int&nbsp;oid,
                  <A HREF="../../../../com/threerings/presents/dobj/Subscriber.html" title="interface in com.threerings.presents.dobj">Subscriber</A>&lt;T&gt;&nbsp;target)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests that the specified subscriber be subscribed to the object identified by the
 supplied object id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T extends <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&gt; 
<BR>
void</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#unsubscribeFromObject(int, com.threerings.presents.dobj.Subscriber)">unsubscribeFromObject</A></B>(int&nbsp;oid,
                      <A HREF="../../../../com/threerings/presents/dobj/Subscriber.html" title="interface in com.threerings.presents.dobj">Subscriber</A>&lt;T&gt;&nbsp;target)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests that the specified subscriber be unsubscribed from the object identified by the
 supplied object id.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PresentsDObjectMgr(com.threerings.presents.server.ReportManager)"><!-- --></A><H3>
PresentsDObjectMgr</H3>
<PRE>
<FONT SIZE="-1">@Inject
</FONT>public <B>PresentsDObjectMgr</B>(<A HREF="../../../../com/threerings/presents/server/ReportManager.html" title="class in com.threerings.presents.server">ReportManager</A>&nbsp;repmgr)</PRE>
<DL>
<DD>Creates the dobjmgr and prepares it for operation.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getNextEventId(boolean)"><!-- --></A><H3>
getNextEventId</H3>
<PRE>
public long <B>getNextEventId</B>(boolean&nbsp;increment)</PRE>
<DL>
<DD>Returns the id to be assigned to the next event posted to the event queue.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>increment</CODE> - if true, the event id will be incremented so that the caller can "claim"
 the returned event id.</DL>
</DD>
</DL>
<HR>

<A NAME="setDefaultAccessController(com.threerings.presents.dobj.AccessController)"><!-- --></A><H3>
setDefaultAccessController</H3>
<PRE>
public void <B>setDefaultAccessController</B>(<A HREF="../../../../com/threerings/presents/dobj/AccessController.html" title="interface in com.threerings.presents.dobj">AccessController</A>&nbsp;controller)</PRE>
<DL>
<DD>Sets up an access controller that will be provided to any distributed objects created on the
 server. The controllers can subsequently be overridden if desired, but a default controller
 is useful for implementing basic access control policies.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerProxyObject(com.threerings.presents.dobj.DObject, com.threerings.presents.dobj.DObjectManager)"><!-- --></A><H3>
registerProxyObject</H3>
<PRE>
public void <B>registerProxyObject</B>(<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;object,
                                <A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A>&nbsp;omgr)</PRE>
<DL>
<DD>Registers an object managed by another distributed object manager (probably on another
 server). The local server will assign the object a proxy oid, and any events that come in on
 this object will be rewritten from their proxy oid to their original id before forwarding on
 to the originating object manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="clearProxyObject(int, com.threerings.presents.dobj.DObject)"><!-- --></A><H3>
clearProxyObject</H3>
<PRE>
public void <B>clearProxyObject</B>(int&nbsp;origObjectId,
                             <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;object)</PRE>
<DL>
<DD>Clears a proxy object reference from our local distributed object space. This merely removes
 it from our internal tables, the caller is responsible for coordinating the deregistration
 of the object with the proxying client.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isManager(com.threerings.presents.dobj.DObject)"><!-- --></A><H3>
isManager</H3>
<PRE>
public boolean <B>isManager</B>(<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;object)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#isManager(com.threerings.presents.dobj.DObject)">DObjectManager</A></CODE></B></DD>
<DD>Returns true if this distributed object manager is the authoritative manager for the
 specified distributed object, or false if we are only providing a proxy to the object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#isManager(com.threerings.presents.dobj.DObject)">isManager</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="subscribeToObject(int, com.threerings.presents.dobj.Subscriber)"><!-- --></A><H3>
subscribeToObject</H3>
<PRE>
public &lt;T extends <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&gt; void <B>subscribeToObject</B>(int&nbsp;oid,
                                                  <A HREF="../../../../com/threerings/presents/dobj/Subscriber.html" title="interface in com.threerings.presents.dobj">Subscriber</A>&lt;T&gt;&nbsp;target)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#subscribeToObject(int, com.threerings.presents.dobj.Subscriber)">DObjectManager</A></CODE></B></DD>
<DD>Requests that the specified subscriber be subscribed to the object identified by the
 supplied object id. That subscriber will be notified when the object is available or if the
 subscription request failed.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#subscribeToObject(int, com.threerings.presents.dobj.Subscriber)">subscribeToObject</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oid</CODE> - The object id of the distributed object to which subscription is desired.<DD><CODE>target</CODE> - The subscriber to be subscribed.<DT><B>See Also:</B><DD><A HREF="../../../../com/threerings/presents/dobj/Subscriber.html#objectAvailable(T)"><CODE>Subscriber.objectAvailable(T)</CODE></A>, 
<A HREF="../../../../com/threerings/presents/dobj/Subscriber.html#requestFailed(int, com.threerings.presents.dobj.ObjectAccessException)"><CODE>Subscriber.requestFailed(int, com.threerings.presents.dobj.ObjectAccessException)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="unsubscribeFromObject(int, com.threerings.presents.dobj.Subscriber)"><!-- --></A><H3>
unsubscribeFromObject</H3>
<PRE>
public &lt;T extends <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&gt; void <B>unsubscribeFromObject</B>(int&nbsp;oid,
                                                      <A HREF="../../../../com/threerings/presents/dobj/Subscriber.html" title="interface in com.threerings.presents.dobj">Subscriber</A>&lt;T&gt;&nbsp;target)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#unsubscribeFromObject(int, com.threerings.presents.dobj.Subscriber)">DObjectManager</A></CODE></B></DD>
<DD>Requests that the specified subscriber be unsubscribed from the object identified by the
 supplied object id.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#unsubscribeFromObject(int, com.threerings.presents.dobj.Subscriber)">unsubscribeFromObject</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oid</CODE> - The object id of the distributed object from which unsubscription is desired.<DD><CODE>target</CODE> - The subscriber to be unsubscribed.</DL>
</DD>
</DL>
<HR>

<A NAME="postEvent(com.threerings.presents.dobj.DEvent)"><!-- --></A><H3>
postEvent</H3>
<PRE>
public void <B>postEvent</B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#postEvent(com.threerings.presents.dobj.DEvent)">DObjectManager</A></CODE></B></DD>
<DD>Posts a distributed object event into the system. Instead of requesting the modification of
 a distributed object attribute by calling the setter for that attribute on the object
 itself, an <code>AttributeChangedEvent</code> can be constructed and posted directly. This
 is true for all event types and is useful for situations where one doesn't have access to
 the object in question, but needs to affect some event.

 <p> This event will be forwarded to the ultimate manager of the object (on the client, this
 means it will be forwarded to the server) where it will be checked for validity and then
 applied to the object and dispatched to all its subscribers.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#postEvent(com.threerings.presents.dobj.DEvent)">postEvent</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - The event to be dispatched.</DL>
</DD>
</DL>
<HR>

<A NAME="removedLastSubscriber(com.threerings.presents.dobj.DObject, boolean)"><!-- --></A><H3>
removedLastSubscriber</H3>
<PRE>
public void <B>removedLastSubscriber</B>(<A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;obj,
                                  boolean&nbsp;deathWish)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#removedLastSubscriber(com.threerings.presents.dobj.DObject, boolean)">DObjectManager</A></CODE></B></DD>
<DD>When a distributed object removes its last subscriber, it will call this function to let the
 object manager know. The manager might then choose to flush this object from the system or
 unregister from some upstream manager whose object it was proxying, for example.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html#removedLastSubscriber(com.threerings.presents.dobj.DObject, boolean)">removedLastSubscriber</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/DObjectManager.html" title="interface in com.threerings.presents.dobj">DObjectManager</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerObject(com.threerings.presents.dobj.DObject)"><!-- --></A><A NAME="registerObject(T)"><!-- --></A><H3>
registerObject</H3>
<PRE>
public &lt;T extends <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&gt; T <B>registerObject</B>(T&nbsp;object)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#registerObject(T)">RootDObjectManager</A></CODE></B></DD>
<DD>Registers a distributed object instance of the supplied class with the system and assigns it
 an oid. When the call returns the object will be registered with the system and its oid will
 have been assigned.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#registerObject(T)">registerObject</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html" title="interface in com.threerings.presents.dobj">RootDObjectManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the registered object for the caller's convenience.</DL>
</DD>
</DL>
<HR>

<A NAME="destroyObject(int)"><!-- --></A><H3>
destroyObject</H3>
<PRE>
public void <B>destroyObject</B>(int&nbsp;oid)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#destroyObject(int)">RootDObjectManager</A></CODE></B></DD>
<DD>Requests that the specified object be destroyed. Once destroyed an object is removed from
 the runtime system and may no longer have events dispatched on it.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#destroyObject(int)">destroyObject</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html" title="interface in com.threerings.presents.dobj">RootDObjectManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oid</CODE> - The object id of the distributed object to be destroyed.</DL>
</DD>
</DL>
<HR>

<A NAME="newInterval(java.lang.Runnable)"><!-- --></A><H3>
newInterval</H3>
<PRE>
public <A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.html?is-external=true" title="class or interface in com.samskivert.util">Interval</A> <B>newInterval</B>(java.lang.Runnable&nbsp;action)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#newInterval(java.lang.Runnable)">RootDObjectManager</A></CODE></B></DD>
<DD>Creates an <A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.html?is-external=true" title="class or interface in com.samskivert.util"><CODE>Interval</CODE></A> that runs the supplied runnable. If the root omgr is shutdown
 before the interval expires (or if the interval is scheduled to repeat), it will be
 automatically cancelled. This makes it easy to schedule fire-and-forget intervals:

 <pre>
 _omgr.newInterval(someRunnable).schedule(500); // one shot
 Interval ival = _omgr.newInterval(someRunnable).schedule(500, true); // repeater
 </pre>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.Factory.html?is-external=true#newInterval(java.lang.Runnable)" title="class or interface in com.samskivert.util">newInterval</A></CODE> in interface <CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/Interval.Factory.html?is-external=true" title="class or interface in com.samskivert.util">Interval.Factory</A></CODE><DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#newInterval(java.lang.Runnable)">newInterval</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html" title="interface in com.threerings.presents.dobj">RootDObjectManager</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getObject(int)"><!-- --></A><H3>
getObject</H3>
<PRE>
public <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A> <B>getObject</B>(int&nbsp;oid)</PRE>
<DL>
<DD>Returns the object in the object table with the specified oid or null if no object has that
 oid. Be sure only to call this function from the dobjmgr thread and not to do anything funny
 with the object. If subscription is desired, use <A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.html#subscribeToObject(int, com.threerings.presents.dobj.Subscriber)"><CODE>subscribeToObject(int, com.threerings.presents.dobj.Subscriber<T>)</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html#getObject(int)">getObject</A></CODE> in interface <CODE><A HREF="../../../../com/threerings/presents/dobj/RootDObjectManager.html" title="interface in com.threerings.presents.dobj">RootDObjectManager</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStats(boolean)"><!-- --></A><H3>
getStats</H3>
<PRE>
public <A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.Stats.html" title="class in com.threerings.presents.server">PresentsDObjectMgr.Stats</A> <B>getStats</B>(boolean&nbsp;snapshot)</PRE>
<DL>
<DD>Returns a recent snapshot of runtime statistics tracked by the distributed object manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>snapshot</CODE> - if true, the current stats will be snapshotted and reset and the new
 snapshot will be returned. If false, the previous snapshot will be returned. If no snapshot
 has ever been taken, the current stats that have been accumulting since the JVM start will
 be returned.</DL>
</DD>
</DL>
<HR>

<A NAME="execute(java.lang.Runnable)"><!-- --></A><H3>
execute</H3>
<PRE>
public void <B>execute</B>(java.lang.Runnable&nbsp;command)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>execute</CODE> in interface <CODE>java.util.concurrent.Executor</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="postRunnable(java.lang.Runnable)"><!-- --></A><H3>
postRunnable</H3>
<PRE>
public void <B>postRunnable</B>(java.lang.Runnable&nbsp;unit)</PRE>
<DL>
<DD>Posts a self-contained unit of code that should be run on the distributed object manager
 thread at the next available opportunity. The code will be queued up with the rest of the
 events and invoked in turn. Like event processing code, the code should not take long to
 complete and should <em>definitely</em> not block.

 From interface RunQueue
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true#postRunnable(java.lang.Runnable)" title="class or interface in com.samskivert.util">postRunnable</A></CODE> in interface <CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isDispatchThread()"><!-- --></A><H3>
isDispatchThread</H3>
<PRE>
public boolean <B>isDispatchThread</B>()</PRE>
<DL>
<DD>Returns true if the thread invoking this method is the same thread that is doing distributed
 object event dispatch. Code that wishes to enforce that it is either always or never called
 on the event dispatch thread will want to make use of this method.

 From interface RunQueue
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true#isDispatchThread()" title="class or interface in com.samskivert.util">isDispatchThread</A></CODE> in interface <CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="requireEventThread()"><!-- --></A><H3>
requireEventThread</H3>
<PRE>
public void <B>requireEventThread</B>()</PRE>
<DL>
<DD>Ensures that the calling thread is the distributed object event dispatch thread, throwing an
 <CODE>IllegalStateException</CODE> if it is not. <em>Note:</em> before the manager is started up,
 all calls to this method will succeed, as things that take place during server
 initialization are considered safe and only after the distributed object manager is started
 (and the event thread is established) will we require it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="refuseEventThread()"><!-- --></A><H3>
refuseEventThread</H3>
<PRE>
public void <B>refuseEventThread</B>()</PRE>
<DL>
<DD>Ensures that the calling thread <em>is not</em> the distributed object event dispatch
 thread, throwing an <CODE>IllegalStateException</CODE> if it is.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>Runs the dobjmgr event loop until it is requested to exit. This should be called from the
 main application thread.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="harshShutdown()"><!-- --></A><H3>
harshShutdown</H3>
<PRE>
public void <B>harshShutdown</B>()</PRE>
<DL>
<DD>Requests that the dobjmgr shut itself down directly. You may want to try using <A HREF="../../../../com/threerings/presents/server/PresentsInvoker.html#shutdown()"><CODE>PresentsInvoker.shutdown()</CODE></A> which will make sure that both the Invoker and DObjectMgr are
 empty and then shut them both down.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUnitProfInterval(int)"><!-- --></A><H3>
setUnitProfInterval</H3>
<PRE>
public void <B>setUnitProfInterval</B>(int&nbsp;interval)</PRE>
<DL>
<DD>Sets the frequency at which we take profiling samples.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUnitProfInterval()"><!-- --></A><H3>
getUnitProfInterval</H3>
<PRE>
public int <B>getUnitProfInterval</B>()</PRE>
<DL>
<DD>Returns the profiling sample frequency.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="dumpUnitProfiles()"><!-- --></A><H3>
dumpUnitProfiles</H3>
<PRE>
public void <B>dumpUnitProfiles</B>()</PRE>
<DL>
<DD>Dumps collected profiling information to the system log.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="clearUnitProfiles()"><!-- --></A><H3>
clearUnitProfiles</H3>
<PRE>
public void <B>clearUnitProfiles</B>()</PRE>
<DL>
<DD>Clears the current set of unit profiles.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectDestroyed(com.threerings.presents.dobj.DEvent, com.threerings.presents.dobj.DObject)"><!-- --></A><H3>
objectDestroyed</H3>
<PRE>
public boolean <B>objectDestroyed</B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event,
                               <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;target)</PRE>
<DL>
<DD>Called as a helper for <code>ObjectDestroyedEvent</code> events. It removes the object from
 the object table.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the event should be dispatched, false if it should be aborted.</DL>
</DD>
</DL>
<HR>

<A NAME="objectAdded(com.threerings.presents.dobj.DEvent, com.threerings.presents.dobj.DObject)"><!-- --></A><H3>
objectAdded</H3>
<PRE>
public boolean <B>objectAdded</B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event,
                           <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;target)</PRE>
<DL>
<DD>Called as a helper for <code>ObjectAddedEvent</code> events. It updates the object/oid list
 tracking structures.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the event should be dispatched, false if it should be aborted.</DL>
</DD>
</DL>
<HR>

<A NAME="objectRemoved(com.threerings.presents.dobj.DEvent, com.threerings.presents.dobj.DObject)"><!-- --></A><H3>
objectRemoved</H3>
<PRE>
public boolean <B>objectRemoved</B>(<A HREF="../../../../com/threerings/presents/dobj/DEvent.html" title="class in com.threerings.presents.dobj">DEvent</A>&nbsp;event,
                             <A HREF="../../../../com/threerings/presents/dobj/DObject.html" title="class in com.threerings.presents.dobj">DObject</A>&nbsp;target)</PRE>
<DL>
<DD>Called as a helper for <code>ObjectRemovedEvent</code> events. It updates the object/oid
 list tracking structures.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the event should be dispatched, false if it should be aborted.</DL>
</DD>
</DL>
<HR>

<A NAME="queueIsEmpty()"><!-- --></A><H3>
queueIsEmpty</H3>
<PRE>
public boolean <B>queueIsEmpty</B>()</PRE>
<DL>
<DD>Should not need to be called except by the invoker during shutdown to ensure that things are
 proceeding smoothly.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isRunning()"><!-- --></A><H3>
isRunning</H3>
<PRE>
public boolean <B>isRunning</B>()</PRE>
<DL>
<DD>Tests if the event processing thread is still running. This is required by the
 ConnectionManager to ensure messages posted just before or during shutdown are sent.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true#isRunning()" title="class or interface in com.samskivert.util">isRunning</A></CODE> in interface <CODE><A HREF="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PresentsDObjectMgr.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/threerings/presents/server/PresentsAuthInvoker.html" title="class in com.threerings.presents.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/threerings/presents/server/PresentsDObjectMgr.LongRunnable.html" title="interface in com.threerings.presents.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/threerings/presents/server/PresentsDObjectMgr.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PresentsDObjectMgr.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2012. All Rights Reserved.
</BODY>
</HTML>
